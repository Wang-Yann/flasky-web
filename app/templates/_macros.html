{% macro pagination_widget(pagination, endpoint, fragment='') %}
<ul class="pagination">
    <li{% if not pagination.has_prev %} class="disabled"{% endif %}>
        <a href="{% if pagination.has_prev %}{{ url_for(endpoint, page=pagination.prev_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}">
            &laquo;
        </a>
    </li>
    {% for p in pagination.iter_pages() %}
        {% if p %}
            {% if p == pagination.page %}
            <li class="active">
                <a href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
            </li>
            {% else %}
            <li>
                <a href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
            </li>
            {% endif %}
        {% else %}
        <li class="disabled"><a href="#">&hellip;</a></li>
        {% endif %}
    {% endfor %}
    <li{% if not pagination.has_next %} class="disabled"{% endif %}>
        <a href="{% if pagination.has_next %}{{ url_for(endpoint, page=pagination.next_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}">
            &raquo;
        </a>
    </li>
</ul>
{% endmacro %}



{% macro widget_tags(data, endpoint) %}
    {% set _,num_min, num_max = data[0] %}
    {% set font_min, font_max = (90, 270) %}
    {% if num_min == num_max or num_min == -1 %}
    {%      set size_delta = 0 %}
    {% else %}
    {%      set size_delta = ((font_max - font_min) // (num_max - num_min)) %}
    {% endif %}


    {% set color_class = cycler('color:#ac1dfe;','color:#bcb46e;','color:#4298e7;','color:#a7bce8','color:#e6eca8    ;','color:#d4349a;','color:#5b48ce;','color:#b5b1ea;','color:#fe4516;','color:#a68d32;','color:#68d6e5;','color:#5c8d29;','color:#9c7da1;','color:#243f2a;','color:    #6c7d99;','color:#9cade9;','color:#1ced29;','color:#ec3de9;','color:#367d29;','color:#cccd29;') %}


<div class="panel panel-default ">
    <div class="panel-heading">
    <h3 class="panel-title">文章标签</h3>
    </div>
    <div class="panel-body" style="padding: 15px;">
        {% for tag in data[1:] %}
        <a style="{{color_class.next()}} font-size:{{ (tag[2] - num_min) * size_delta +font_min }}%" href="/tag/{{tag[0]}}" >
           {{ tag[1]}}
        </a>&nbsp;
        {% endfor %}
    </div>
</div>
{% endmacro %}

{% macro widget_share(url) %}
<div class="btn-group">
   <button type="button" class="btn btn-success dropdown-toggle btn-xs" data-toggle="dropdown">
     分享到 <span class="caret"></span>
   </button>
   <ul class="dropdown-menu" role="menu">
      <li><a href="#">邮件</a></li>
      <li><a href="#">微博</a></li>
      <li><a href="#">微信朋友圈</a></li>
      <li><a href="#">QQ空间</a></li>
      <li><a href="#">Facebook</a></li>
      <li><a href="#">Twitter</a></li>
   </ul>
</div>
{% endmacro %}

{% macro field_error(field) %}
    {% if field.errors %}
        <ul class="errors">
            {% for error in field.errors %}
            <li style="color:red">{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endmacro %}

